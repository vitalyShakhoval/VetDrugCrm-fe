<!-- src\lib\components\vet\Returns.svelte -->
<script lang="ts">
  let returnData = $state({
    drugName: '',
    batchNumber: '',
    quantity: 1,
    reason: '',
    clientName: '',
    prescriptionId: ''
  });
  
  const reasons = [
    '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç',
    '–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞',
    '–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é',
    '–û—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –ª–µ—á–µ–Ω–∏—è',
    '–î—Ä—É–≥–æ–µ'
  ];
  
  const recentReturns = [
    { id: 'RT001', drug: '–ê–Ω—Ç–∏–±–∏–æ—Ç–∏–∫', batch: 'BATCH-F789', quantity: 2, client: '–°–º–∏—Ä–Ω–æ–≤ –ê.–ê.', date: '2024-07-25', status: '–û–±—Ä–∞–±–æ—Ç–∞–Ω' },
    { id: 'RT002', drug: '–í–∏—Ç–∞–º–∏–Ω—ã', batch: 'BATCH-G123', quantity: 1, client: '–ü–µ—Ç—Ä–æ–≤–∞ –ò.–°.', date: '2024-07-24', status: '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ' },
    { id: 'RT003', drug: '–í–∞–∫—Ü–∏–Ω–∞', batch: 'BATCH-H456', quantity: 1, client: '–ò–≤–∞–Ω–æ–≤ –ü.–ü.', date: '2024-07-22', status: '–û–±—Ä–∞–±–æ—Ç–∞–Ω' }
  ];
  
  const submitReturn = () => {
    console.log('–û—Ñ–æ—Ä–º–ª–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç:', returnData);
    // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
    returnData = {
      drugName: '',
      batchNumber: '',
      quantity: 1,
      reason: '',
      clientName: '',
      prescriptionId: ''
    };
  };
  
  const clearForm = () => {
    returnData = {
      drugName: '',
      batchNumber: '',
      quantity: 1,
      reason: '',
      clientName: '',
      prescriptionId: ''
    };
  };
</script>

<div style="padding: 2rem; font-family: 'Montserrat', sans-serif;">
  <h1 style="margin-bottom: 0.5rem;">–í–æ–∑–≤—Ä–∞—Ç –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤</h1>
  <p style="color: #666; margin-bottom: 2rem;">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤</p>
  
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
    <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –§–æ—Ä–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ -->
    <div>
      <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
        <h2 style="margin-bottom: 1.5rem; color: #374151;">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞</h2>
        
        <div style="margin-bottom: 1rem;">
          <label for="return-drug-name" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ *</label>
          <input 
            id="return-drug-name"
            type="text" 
            placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞" 
            bind:value={returnData.drugName}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          />
        </div>
        
        <div style="margin-bottom: 1rem;">
          <label for="return-batch-number" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">–ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ *</label>
          <input 
            id="return-batch-number"
            type="text" 
            placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏" 
            bind:value={returnData.batchNumber}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          />
        </div>
        
        <div style="margin-bottom: 1rem;">
          <label for="return-quantity" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ *</label>
          <input 
            id="return-quantity"
            type="number" 
            min="1"
            bind:value={returnData.quantity}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          />
        </div>
        
        <div style="margin-bottom: 1rem;">
          <label for="return-reason" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">–ü—Ä–∏—á–∏–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ *</label>
          <select 
            id="return-reason"
            bind:value={returnData.reason}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          >
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É</option>
            {#each reasons as reason}
              <option value={reason}>{reason}</option>
            {/each}
          </select>
        </div>
        
        <div style="margin-bottom: 1rem;">
          <label for="return-client-name" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ *</label>
          <input 
            id="return-client-name"
            type="text" 
            placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û –∫–ª–∏–µ–Ω—Ç–∞" 
            bind:value={returnData.clientName}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          />
        </div>
        
        <div style="margin-bottom: 1.5rem;">
          <label for="return-prescription-id" style="display: block; margin-bottom: 0.5rem; color: #4b5563;">ID –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)</label>
          <input 
            id="return-prescription-id"
            type="text" 
            placeholder="–í–≤–µ–¥–∏—Ç–µ ID –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è" 
            bind:value={returnData.prescriptionId}
            style="width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 6px; font-family: 'Montserrat', sans-serif;"
          />
        </div>
        
        <div style="display: flex; gap: 1rem;">
          <button 
            onclick={clearForm}
            style="flex: 1; background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem; cursor: pointer;"
          >
            –û—á–∏—Å—Ç–∏—Ç—å
          </button>
          <button 
            onclick={submitReturn}
            style="flex: 1; background: #5B89FF; color: white; border: none; border-radius: 8px; padding: 0.75rem; cursor: pointer;"
          >
            –û—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç
          </button>
        </div>
      </div>
    </div>
    
    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ò—Å—Ç–æ—Ä–∏—è –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ -->
    <div>
      <div style="background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
        <h2 style="margin-bottom: 1rem; color: #374151;">–ù–µ–¥–∞–≤–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç—ã</h2>
        <div style="display: grid; gap: 0.75rem; margin-bottom: 1.5rem;">
          {#each recentReturns as ret}
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; padding: 1rem; background: #f9fafb; border-radius: 6px;">
              <div>
                <span style="font-size: 0.875rem; color: #666;">–ü—Ä–µ–ø–∞—Ä–∞—Ç:</span>
                <p style="margin: 0.25rem 0 0 0; font-weight: 600;">{ret.drug}</p>
              </div>
              <div>
                <span style="font-size: 0.875rem; color: #666;">–ö–ª–∏–µ–Ω—Ç:</span>
                <p style="margin: 0.25rem 0 0 0;">{ret.client}</p>
              </div>
              <div>
                <span style="font-size: 0.875rem; color: #666;">–ü–∞—Ä—Ç–∏—è:</span>
                <p style="margin: 0.25rem 0 0 0;">{ret.batch}</p>
              </div>
              <div>
                <span style="font-size: 0.875rem; color: #666;">–°—Ç–∞—Ç—É—Å:</span>
                <p style="margin: 0.25rem 0 0 0;">
                  <span style="background: {ret.status === '–û–±—Ä–∞–±–æ—Ç–∞–Ω' ? '#d1fae5' : '#fef3c7'}; 
                         color: {ret.status === '–û–±—Ä–∞–±–æ—Ç–∞–Ω' ? '#065f46' : '#92400e'}; 
                         padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">
                    {ret.status}
                  </span>
                </p>
              </div>
              <div>
                <span style="font-size: 0.875rem; color: #666;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</span>
                <p style="margin: 0.25rem 0 0 0; color: #ef4444;">-{ret.quantity} –µ–¥.</p>
              </div>
              <div>
                <span style="font-size: 0.875rem; color: #666;">–î–∞—Ç–∞:</span>
                <p style="margin: 0.25rem 0 0 0;">{ret.date}</p>
              </div>
            </div>
          {/each}
        </div>
        
        <div style="background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px; padding: 1rem;">
          <h3 style="margin: 0 0 0.5rem 0; color: #0369a1;">üìã –ü—Ä–∞–≤–∏–ª–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞</h3>
          <ul style="margin: 0; padding-left: 1rem; color: #666; font-size: 0.875rem;">
            <li>–í–æ–∑–≤—Ä–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π —Å –¥–∞—Ç—ã –≤—ã–¥–∞—á–∏</li>
            <li>–ü—Ä–µ–ø–∞—Ä–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–µ</li>
            <li>–¢—Ä–µ–±—É–µ—Ç—Å—è —á–µ–∫ –∏–ª–∏ ID –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</li>
            <li>–í–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>